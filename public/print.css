/* Embedded fonts extracted from reference PDF */
/* IMPORTANT: use *relative* font URLs so they resolve under Playwright baseURL=file://<publicDir>/ */
@font-face { font-family: 'Raleway'; src: url('fonts/Raleway-Regular.ttf') format('truetype'); font-weight: 400; font-style: normal; }
@font-face { font-family: 'Raleway'; src: url('fonts/Raleway-Italic.ttf') format('truetype'); font-weight: 400; font-style: italic; }
@font-face { font-family: 'Raleway'; src: url('fonts/Raleway-Medium.ttf') format('truetype'); font-weight: 500; font-style: normal; }
@font-face { font-family: 'Raleway'; src: url('fonts/Raleway-SemiBold.ttf') format('truetype'); font-weight: 600; font-style: normal; }
@font-face { font-family: 'Raleway'; src: url('fonts/Raleway-Bold.ttf') format('truetype'); font-weight: 700; font-style: normal; }
@font-face { font-family: 'Raleway'; src: url('fonts/Raleway-BoldItalic.ttf') format('truetype'); font-weight: 700; font-style: italic; }

@font-face { font-family: 'Merriweather'; src: url('fonts/Merriweather-Regular.ttf') format('truetype'); font-weight: 400; font-style: normal; }
@font-face { font-family: 'Merriweather'; src: url('fonts/Merriweather-Black.ttf') format('truetype'); font-weight: 900; font-style: normal; }
@font-face { font-family: 'Merriweather'; src: url('fonts/Merriweather-BlackItalic.ttf') format('truetype'); font-weight: 900; font-style: italic; }

@font-face { font-family: 'Open Sans'; src: url('fonts/OpenSans-Regular.ttf') format('truetype'); font-weight: 400; font-style: normal; }
@font-face { font-family: 'Open Sans'; src: url('fonts/OpenSans-Bold.ttf') format('truetype'); font-weight: 700; font-style: normal; }

/*
  Print layout for Finance Memorandum (flow layout)
  - No background coordinate mapping
  - Sections auto-paginate naturally
  - Optional blocks are omitted from HTML and therefore do not render
*/

@page {
  size: A4;
  margin: 0;
}

html, body {
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Raleway', 'Open Sans', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: #0b0b0f;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  line-height: 1.35;
}

/* Shared logo sizing (used in back cover) */
.logo { max-height: 18mm; max-width: 70mm; object-fit: contain; }

/* Full-page reference backgrounds (e.g. cover) */
.section {
  position: relative;
}

.page-bg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
}

/* Ensure section content sits above background */
.section > *:not(.page-bg) {
  position: relative;
  z-index: 1;
}

/* Each section starts on a new page, but can span multiple pages if long. */
.section {
  padding: 16mm 14mm 14mm 14mm;
  break-before: page;
  break-after: page;
}

.section:first-of-type { break-before: auto; }
.section:last-of-type { break-after: auto; }

.kicker {
  font-size: 10pt;
  letter-spacing: .12em;
  text-transform: uppercase;
  color: #555;
}

.section-title h1 {
  margin: 4mm 0 2mm 0;
  font-size: 22pt;
  letter-spacing: .02em;
}

.rule {
  height: 3px;
  background: #111;
  margin: 2mm 0 7mm 0;
}

/* ------------------------------------------------------------------
   Fixed footer (renders on every page; keep Playwright header/footer off)
------------------------------------------------------------------- */
.footer-fixed {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 5.5mm;
  padding: 0 14mm;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8mm;
  font-family: 'Raleway', 'Open Sans', Arial, sans-serif;
  color: #9ca3af;
  z-index: 50;
}

.footer-fixed .left {
  display: flex;
  align-items: center;
  gap: 7mm;
  min-width: 0;
  flex: 1;
}

.footer-fixed .footer-logo {
  height: 6.5mm; /* sized to match reference better */
  width: auto;
  max-width: 60mm;
  object-fit: contain;
}

.footer-fixed .conf {
  font-size: 8.3pt;
  font-style: italic;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.footer-fixed .page {
  font-size: 8.3pt;
  min-width: 28mm;
  text-align: right;
}

/* Reserve space so body content doesn't overlap the fixed footer */
body { padding-bottom: 16mm; }

/* ------------------------------------------------------------------
   COVER â€” matches the reference layout:
   - Top ~60%: photo with diagonal overlay built into photo / design
   - "PROPOSAL" centered near bottom of photo
   - Logo top-right over photo
   - Bottom ~40%: centered title stack + amount + reference + contact line
------------------------------------------------------------------- */
.cover {
  padding: 0;
}

.cover .cover-photo {
  position: absolute;
  left: 0;
  top: 0;
  width: 210mm;
  height: 175mm; /* ~60% of A4 */
  overflow: hidden;
}

.cover .cover-photo img.cover-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

.cover .cover-photo .cover-logo {
  position: absolute;
  top: 10mm;
  right: 10mm;
  height: 10mm;
  width: auto;
  object-fit: contain;
}

.cover .cover-photo .proposal {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 12mm;
  text-align: center;
  font-family: 'Merriweather', serif;
  font-weight: 900;
  font-size: 28pt;
  letter-spacing: 7mm;
  color: rgba(255,255,255,.85);
}

.cover .cover-body {
  position: absolute;
  left: 0;
  right: 0;
  top: 175mm;
  bottom: 0;
  padding: 18mm 18mm 22mm;
  text-align: center;
}

.cover .cover-body .org {
  font-family: 'Merriweather', serif;
  font-weight: 400;
  font-size: 26pt;
  margin: 0 0 8mm;
}

.cover .cover-body .memo-title {
  font-family: 'Merriweather', serif;
  font-weight: 900;
  font-style: italic;
  font-size: 28pt;
  line-height: 1.05;
  margin: 0 0 6mm;
}

.cover .cover-body .product {
  font-family: 'Merriweather', serif;
  font-weight: 900;
  font-size: 18pt;
  margin: 0 0 14mm;
}

.cover .cover-body .borrower {
  font-family: 'Raleway', 'Open Sans', Arial, sans-serif;
  font-weight: 500;
  font-size: 18pt;
  margin: 0 0 10mm;
  color: #2b2b2f;
}

.cover .cover-body .amount {
  font-family: 'Raleway', 'Open Sans', Arial, sans-serif;
  font-weight: 500;
  font-size: 22pt;
  margin: 0 0 10mm;
  color: #c7ccd4; /* soft grey like reference */
}

.cover .cover-body .ref {
  font-family: 'Raleway', 'Open Sans', Arial, sans-serif;
  font-size: 10.5pt;
  color: #2b2b2f;
  margin: 0 0 14mm;
}

.cover .cover-body .contact {
  position: absolute;
  left: 18mm;
  right: 18mm;
  bottom: 10mm;
  font-family: 'Raleway', 'Open Sans', Arial, sans-serif;
  font-size: 8.3pt;
  color: #3b3b42;
  line-height: 1.25;
}

.cover .cover-body .contact .web {
  color: #0ea5b7;
  font-weight: 600;
}

/* Tables */
table { width: 100%; border-collapse: collapse; }
.kv th, .kv td {
  padding: 3mm 3.5mm;
  border: 1px solid #e3e3e8;
  vertical-align: top;
}
.kv th {
  width: 38%;
  background: #f3f3f7;
  font-weight: 600;
  color: #111;
}
.grid th, .grid td {
  padding: 2.6mm 3mm;
  border: 1px solid #e3e3e8;
  vertical-align: top;
}
.grid th {
  background: #f3f3f7;
  font-weight: 600;
}
.num { text-align: right; font-variant-numeric: tabular-nums; }

/* Prose */
h2 {
  margin: 7mm 0 2mm;
  font-size: 13pt;
  letter-spacing: .01em;
}
.prose { font-size: 11pt; color: #111; }
.prose.subtle, .note.subtle { color: #444; }
.note { margin-top: 4mm; font-size: 10.5pt; }

.contact-card {
  margin-top: 8mm;
  padding: 6mm;
  border: 1px solid #e3e3e8;
  border-radius: 5mm;
  background: #fbfbfd;
}
.contact-title { font-weight: 700; margin-bottom: 2mm; }

/* TOC */
.toc { margin: 0; padding-left: 5mm; }
.toc li { margin: 2mm 0; display: flex; align-items: center; gap: 3mm; }
.toc-title { white-space: nowrap; }
.toc-dots {
  flex: 1;
  border-bottom: 1px dotted #b9b9c2;
  transform: translateY(-1px);
}

/* Cards / repeatables */
.card {
  border: 1px solid #e3e3e8;
  border-radius: 5mm;
  padding: 6mm;
  margin: 5mm 0;
  background: #fff;
  break-inside: avoid;
}
.card-title { font-weight: 800; font-size: 12.5pt; margin-bottom: 3mm; }
.card-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2mm 6mm;
  font-size: 10.8pt;
}
.lbl { display: block; color: #555; font-size: 9.5pt; text-transform: uppercase; letter-spacing: .08em; }
.val { display: block; font-weight: 600; }

.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6mm;
}

/* Images */
.image-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6mm;
}
.imgbox {
  border: 1px solid #e3e3e8;
  border-radius: 5mm;
  overflow: hidden;
  break-inside: avoid;
  background: #fafafe;
}
.imgbox img { width: 100%; height: 80mm; object-fit: cover; display: block; }
.imgbox figcaption { padding: 3mm 4mm; font-size: 10pt; color: #333; }

/* Back cover */
.backcover .backgrid {
  height: calc(297mm - 30mm);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12mm;
  align-items: end;
}
.bc-name { font-size: 16pt; font-weight: 800; margin-top: 4mm; }
.bc-line { margin-top: 2mm; font-size: 11pt; color: #222; }
.bc-brand { text-align: right; }
.bc-sub { margin-top: 3mm; color: #444; font-size: 10.5pt; }
